<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas Cheat Sheet</title>
    <style>
        body{
            width: 100vw;
            height: 100vh;
            background: #d3d2d2;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        canvas{
            background: #fff;
        }
    </style>
</head>
<body>
    <canvas id="drawingArea"></canvas>

    <script>
        //Hente canvas-elementet
        const canvas = document.getElementById("drawingArea")
        //Sette høyde og bredde på canvas
        canvas.width = 800
        canvas.height = 600
        //Sette context på canvas (hvilken verktøykasse vi skal gjøre tilgjengelig)
        const ctx = canvas.getContext("2d")

        //Innlastingskontroll
        let heroImageLoaded = false
        //Lager et bildeobjekt
        const heroImage = new Image()
        //Angi hvilken bildefil som skal tegnes i canvas
        heroImage.src = "superhero.png"
        //Sjekker at bildeobjekt er lastet i nettleser
        heroImage.onload = () => {
            heroImageLoaded = true
            //ctx.drawImage(heroImage, 600, 100)
        }
        console.log(heroImage)
        //Gi oss selv en feilmelding dersom bildeobjektet ikke klarer å laste
        heroImageLoaded ? console.log("Bildeobjekt lastet") : console.log("Bildeobjekt ikke lastet")

        //Definerer requestAnimationFrame for ulike nettlesere:
        requestAnimationFrame = window.requestAnimationFrame ||
            window.webkitRequestAnimationFrame ||
            window.msRequestAnimationFrame ||
            window.mozRequestAnimationFrame

        //Lager en funksjon for tilfeldig valgte verdier
        function randomMinMax(min, max) {
            return Math.floor(Math.random() * (max - min + 1) + min)
        }

        //La oss lage en X-counter
        //let xCounter = 100
        //Annen xCounter for tilfeldig valgte verdier
        let xCounter = randomMinMax(0, canvas.width - 200)
        //Og en Y-counter
        //let yCounter = 500
        //Annen yCounter for tilfeldig valgte verdier
        let yCounter = randomMinMax(canvas.height / 2, canvas.height)
        console.log(yCounter)

        function renderFrames() {
            //Vi tømmer hele canvaset
            ctx.clearRect(0, 0, canvas.width, canvas.height)
            //Tegne elementene i en bilderamme
            ctx.drawImage(heroImage, xCounter, yCounter)
            //Flytte bildet 1 pixel mot høyre
            xCounter++
            //Flytte bildet 5 pixler oppover
            yCounter = yCounter - 5 //Kan også skrive: yCounter -= 5
            //Kjøre en ny bilderamme
            requestAnimationFrame(renderFrames)
        }

        //Starte animasjon
        renderFrames()

    </script>
</body>
</html>